@startuml uc1_sequence_diagram
hide footbox

actor User
participant "BBP App" as App
participant "Email Service" as em

autonumber

activate User

User -> App : start_account_registration()

activate App
App -->> User : registration_form()
deactivate App

User -> App : submit_registration_form(name, surname, gender, birth_date, email_address, password)
activate App
App -> App : check_registration_info()

break #ffe6e6 Invalid Email Format
    App -->> User : invalid_email_error()
end
break #ffe6e6 Email already used
    App -->> User : email_already_used_error()
end
App ->> em : registration_link()
deactivate App
activate em
em -->> User : registration_email()
deactivate em
User -> App : registration_confirmation()
activate App
break #ffe6e6 Link expired
    App -->> User : invalid_registration_link()

end
 App -->> User : registration_ack()
    
deactivate App

deactivate User
@enduml