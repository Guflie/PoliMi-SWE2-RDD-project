\documentclass{article}

\usepackage[utf8]{inputenc}
\usepackage{parskip}
\usepackage{enumitem}
\usepackage{graphicx}
\usepackage{float}
\usepackage{verbatim}
\usepackage{tabularx}
\usepackage{verbatim}
\usepackage{sectsty}
\usepackage{xcolor}
\usepackage{hyperref}

\graphicspath{ {img/} }

% sectsty settings
\definecolor{sec-blue}{RGB}{77, 121, 255}
\definecolor{subsec-blue}{RGB}{153, 179, 255}
\sectionfont{\color{sec-blue}}
\subsectionfont{\color{subsec-blue}}

% header infos
\title{RASD}
\author{Leonardo Guglielmi, Francesco Lo Conte}
\date{\today\\Version 1}

\frenchspacing

% --------------------------------------------------------------------------------------
\begin{document}
    \pagenumbering{arabic}
    
    \thispagestyle{empty} 
    \centering
    
    \includegraphics[width=8cm]{politecnico-di-milano-vector-logo.png}
    \vspace{1.5cm} 
    
    {\Large \textbf{COMPUTER SCIENCE AND ENGINEERING} \\}
    {\Large \textbf{SOFTWARE ENGINEERING II} \\}
    {\Large \textbf{2025 - 2026} \\} 
    
    \vspace{1.5cm}
    
    {\Huge \textbf{RASD} \\}
    {\large Requirement Analysis and Specification Document \\}
    
    \vspace{0.5cm}
    {\Large \textit{Best Bike Paths}}
    
    \vspace{3cm} 

    {\Large \textbf{Authors:}} \\
    Leonardo Guglielmi, Francesco Lo Conte
    
    \vspace{0.5cm}
    {\Large \textbf{Version:}} \\
    1.0 \\
    (\today)
    
    \pagebreak
    \raggedright
    \tableofcontents
    \pagebreak

    % -------------------------------------------------------------
    \input{RASD/Section1/introduction.tex}
    \pagebreak

    % -------------------------------------------------------------
    \section{Overall description}

        \subsection{Product perspective}
        
            \input{RASD/Section2/scenarios.tex}

            \pagebreak

        \subsubsection{Domain Class Diagram}
        %come identifichiamo uno status per un percorso? in base al numero di ostacoli? gli associamo un colore, vero? ad esempio ottimale-verde.
        %volendo si può "complicare" molto di più il domain class diagram, ad esempio aggiungendo dettagli come profile_picture, età allo user (cosa che personalmente farei).
        %tuttavia è quello che vogliamo fare? 
        %inoltre, mancano altre classi? Ti viene in mente qualcosa da aggiungere?
        
        \begin{figure}[h!]
            \centering
            \includegraphics[width=\textwidth]{domain class diagram/Domain_class_diagram_v1.pdf}
            \caption{Domain Class Diagram of the BBP system}
            \label{fig:domain_model}
        \end{figure}

    
        Figure \ref{fig:domain_model} shows the domain class diagram. The main architectural choices are explained below:
    
        \begin{itemize}
            \item \textbf{User Generalization:} To avoid duplication and facilitate future scalability, the \texttt{User} superclass has been 
            introduced. It encapsulates basic functionality accessible to everyone, such as route search and map viewing. The \texttt{RegisteredUser}
            class extends this foundation, adding authentication data and the main writing functionality: \texttt{recordTrip()}, 
            \texttt{insertManualReport()}, and \texttt{confirmDetection()}. This structure allows for easy extension to future roles such as 
            "Administrator" or "Moderator."
            
            \item \textbf{Information Abstraction and Scoring:} The abstract \texttt{PublishableInformation} class was created to logically group all 
            alerts (whether \texttt{RouteStatus} or \texttt{Obstacle}). This polymorphic approach greatly simplifies the calculation of the Path 
            Score: the system can iterate over a generic list of confirmed information associated with a trip to calculate its score, without 
            having to use separate logic for each type of alert.
            
            \item \textbf{Sensor Scalability:} Although the assignment specifically mentions potholes, the model correctly links the raw 
            \texttt{SensorData} data to the generic \texttt{Obstacle} class via the "Detects (Candidate)" dependency. This design ensures that the 
            system can evolve to detect other types of anomalies in the future without changing the core data model.
            
            \item \textbf{Trip Composition and Data Lifecycle:} There is a composition relationship between \texttt{Trip} and its internal data: 
            \texttt{WeatherInfo} and \texttt{SensorData}. This indicates that this data is closely tied to the trip lifecycle: if a user decides to 
            delete a trip from their history, the associated weather data and raw sensor data will also be automatically removed, preventing data
            fragmentation and ensuring database cleanliness.
        \end{itemize}
        \pagebreak

        \subsubsection{State Diagrams}
        %vuoi che ci sia un'interruzione di pagina per ogni state diagram? Oppure lasciamo cosi com'è ora?
        \textbf{User Session Lifecycle} 
         
        \begin{figure}[H]
            \centering
            \includegraphics[width=0.9\textwidth]{User_profile_lifecycle.pdf}
            \caption{State diagram of a BBP system user's lifecycle}
            \label{fig:user_lifecycle}
        \end{figure}

        The finite state diagram in Figure \ref{fig:user_lifecycle} models the \textbf{user session lifecycle} within the BBP system, defining how 
        the user transitions from the anonymous browsing state to the fully operational one. The system is designed to ensure that all basic 
        functionality, such as route search and map viewing, is immediately accessible, with a single initial state that converges 
        on \texttt{Search\_Routes}, the universal entry point. From this anonymous browsing state, the user can choose to authenticate whether 
        they are already logged in or not.
        Once the \texttt{Logged\_In} state is reached, the user unlocks the contribution capabilities, which are critical to the system's value. 
        This state serves as a hub, allowing the user to initiate trip tracking by moving to the \texttt{Tracking} state (when sensors are active)
        or to proceed to \texttt{Reviewing\_Data}. Both contribution states are separated to reflect their high impact on resources (tracking) or
        data consistency (auditing). The session can end by exiting \texttt{Search\_Routes} (for both anonymous and registered users) or by 
        \texttt{Logout} from the operational state for the registered user.

        \textbf{Trip Lifecycle} 
 
        \begin{figure}[H]
            \centering
            \includegraphics[width=0.9\textwidth]{Trip_lifecycle.pdf}
            \caption{State Diagram of the Lifecycle of a Trip in the BBP System}
            \label{fig:trip_lifecycle}
        \end{figure}

        The diagram in Figure \ref{fig:trip_lifecycle} models the complete lifecycle of a \texttt{Trip}, from its inception to its final storage or 
        discard. The process begins in the initial \texttt{Route\_Definition} state, which represents the hub where a new route can be defined or an 
        existing one can be used. The fundamental transition to data acquisition occurs only if the \texttt{[if RegisteredUser]} guard condition is 
        satisfied, ensuring that only authenticated users can initiate tracking, based on the system's contribution requirements. Once in the 
        \texttt{Data\_Logging} state, the system actively logs raw sensor data (GPS, accelerometer) if in automatic mode. This state offers flexibility,
        allowing data acquisition to be paused and resumed via transitions. The system manages three distinct transitions when recording is stopped, 
        resulting in separate processing paths:

        \begin{itemize}
            \item \textbf{Stop in manual mode}: This transition allows the user to actively add non-sensor data to the route.
            \item \textbf{Stop in automated mode}: Indicates that the route has ended, starting the automatic processing cycle.
            \item \textbf{Stop without data}: If the user does not wish to add any data, they go directly to the confirmation to save or delete the 
            collected data (if collected).
        \end{itemize}

        The automated processing cycle begins with \texttt{Enrichment\_WeatherInfo}, where the system enriches the trip with weather data retrieved 
        from external services. Once enrichment is complete, the flow moves to \texttt{Awaiting\_Confirmation}. This state is crucial for data quality:
        here, the user must decide whether to validate the anomalies detected by the sensors (e.g., potholes) or discard them. The cycle closes 
        by returning to the \texttt{Route\_Definition} state or definitively exiting the system, demonstrating how data only goes from ephemeral to 
        persistent information through a rigorous validation process.

        \textbf{Data Lifecycle} 

        \begin{figure}[H]
            \centering
            \includegraphics[width=0.9\textwidth]{Data_lifecycle.pdf}
            \caption{Data lifecycle state diagram in BBP system}
            \label{fig:data_lifecycle}
        \end{figure}

        The diagram in Figure \ref{fig:data_lifecycle} models the complete data lifecycle, from its origin to its final state. The process rigorously 
        distinguishes data based on its source to direct it to the correct validation path. The flow forks immediately from the initial state:

        \begin{itemize}
            \item \textbf{Manual Path:} The user generates a \texttt{Manual report} that transitions to the \texttt{Manual\_Submission} state. 
            The data, being the result of an explicit action, is initially saved and can be published if the user wishes.
            \item \textbf{Automatic Path:} The data passively detected by the sensors transitions to the \texttt{Dected\_Raw} state. This raw data must
            pass through the \texttt{Awaiting\_Confirmation} state at the end of its journey.
        \end{itemize}

        The pending confirmation state is the critical checkpoint: the user is responsible for validating the discovery to allow it to move to 
        \texttt{Publishable}, or discarding it, moving it to \texttt{Discarded}. Only data in the \texttt{Publishable} state is integrated and can 
        influence the \texttt{Path Score}. The cycle ends with final publication or discard.
        \pagebreak

        \subsection{Product functions}

        \textbf{Sign up \& Login} 

        % GENERAL NOTE: fucntions seems ok, maybe we could refine them by giving higher focus on the system.

        \begin{comment}
        This feature is the entry point for any user wishing to actively contribute to the inventory. A visitor can register by providing their 
        information and credentials, and the system creates a \texttt{RegisteredUser} profile, enabling write permissions. Once the account is created
        the user can log in to access their reserved area, view their travel history, and use the tracking features. Without authentication, the user 
        remains in "read-only" mode, without access or all the features expected of a registered user.
        \end{comment}
        
        This feature is the entry point for any user wishing to actively contribute to the inventory. A visitor can register by providing their 
        information and credentials,and once the account is created the user can log in to access their reserved area, view their travel history, and 
        use the tracking features. Without authentication, the user remains in "read-only" mode, without access or all the features expected of a 
        registered user.

        \textbf{User Profile Management} %sono sempre più convinto di dover inserire dati personali all'interno di utente come peso, altezza, ecc..
        
        Registered users have access to a dedicated section for managing their personal data. Here they can update their contact information and 
        personal details, change their password, or delete their account. These actions ensure that the user maintains full control over their digital
        identity within the system.

        \textbf{Trip Recording} 
        
        This is a core feature available exclusively to authenticated users. Users can start a recording session at the beginning of their activity. 
        During the trip, the system tracks their geographic location via GPS in real time. Users have the flexibility to pause and resume recording 
        (for example, during a rest stop). Upon completion, the trip is stored in the user's personal database.

        \textbf{Statistics Calculation and Data Enrichment} 

        Upon completion of a trip, the system processes the raw data to provide detailed statistics, such as total distance traveled and average speed. 
        Additionally, BBP automatically queries external services, if available, to retrieve weather information (temperature, wind, and weather 
        conditions) for the area and time of the trip. This data is integrated into the trip record, providing the user with richer context for 
        analyzing their performance.

        \textbf{Manual Data Entry} 

        Registered users can actively contribute to the quality of the inventory by entering manual reports. Through a dedicated interface, users can 
        specify the status of a road segment (e.g., "Optimal," "Requires Maintenance") or report the presence of specific obstacles. The system 
        associates this information with the current GPS coordinates (or those selected on the map) and makes it immediately available to the community.
        
        \textbf{Automatic Detection via Sensors} 

        If the registered user enables "Automatic Mode" while driving, the system uses the mobile device's accelerometer and gyroscope to monitor 
        vibrations and sudden movements. Internal algorithms analyze this data to identify potential road surface anomalies, such as potholes. This 
        process occurs in the background so as not to distract the user while driving.
        
        \textbf{Review and Confirmation of Detections} 

        To ensure data reliability and filter out false positives, automatic detections are not published immediately. At the end of the journey, 
        the system presents the user with a list of detected anomalies. The registered user must explicitly confirm the presence of the obstacle 
        (validation) or discard the detection (if incorrect). Only confirmed data is promoted to publishable information.
        The published route data is then used to calculate the Path Score.

        \textbf{Route Search} 

        This function is accessible to all users, regardless of registration. The user enters a point of origin and a destination in the search 
        interface. The system processes the request and calculates one or more possible cycling routes connecting the two points.   

        \textbf{Display and Path Score} 

        The routes found are displayed on an interactive map. For each route, the system calculates and displays a \texttt{Path Score}. This summary 
        score aggregates information about the route's status and the presence of confirmed obstacles, allowing the user to quickly assess not only 
        the distance, but also the safety and quality of the proposed route.
        \pagebreak

        \subsection{User Characteristics}
        This section describes the general characteristics of users who interact with the BBP system. There are two main categories of users: 
        Registered Users (the active contributors) and General Users (the passive users).

        \subsubsection{Registered Users}
        The Registered User represents the core of the BBP ecosystem. This profile typically corresponds to a regular cyclist (commuter or 
        recreational) who wishes to monitor their performance and actively contribute to community safety.

        \textbf{Profile and Skills} 

        The user must have a personal account with login credentials. It is assumed that they have moderate familiarity with the use of smartphones
        and GPS technology. Since the app is used in mobile contexts, the user requires a clear interface that minimizes distractions.

        \textbf{Needs and Interactions:}
        \begin{itemize}
            \item \textbf{Tracking:} The user wants to track their trips to analyze statistics such as speed and distance, contextualized with weather
            data if available.
            \item \textbf{Active Contribution:} The user wants to report obstacles or assess road conditions to help other cyclists. They can do this 
            manually or by activating automatic mode.
            \item \textbf{Validation:} The user is responsible for data quality. The system relies on them to confirm or discard automatic sensor 
            detections (e.g., potholes) at the end of the trip, ensuring that only truthful information influences the Path Score.
            \item \textbf{Privacy:} The user wants sensitive data (such as personal travel history) to remain private, while agreeing to share 
            anonymized road condition data publicly.

            % added chracteristics cited only in generyc user section
            \item \textbf{Trip planning}: The user needs to access to an updated archive of paths in order to plan its cycling activity; so it needs to find the most efficient or
            the more intriguing path from its starting point up to its destination, but avoiding those paths having some problem; it's also not interested in paths with low score, Since
            they won't match its expectancies.

        \end{itemize}

        \subsubsection{Generic User}
        The Generic User includes anyone who accesses the platform without authenticating. This profile includes tourists, occasional cyclists, or 
        route planners who need quick and reliable information without the commitment of registration.

        \textbf{Profile and Skills}

        They do not have a persistent profile in the system. Minimum proficiency in using digital maps and web/mobile interfaces is required. 
        Interaction is sporadic and aimed at an immediate goal: reaching a destination.

        \textbf{Needs and Interactions:}
        \begin{itemize}
            \item \textbf{Safety and Planning:} The primary need is to find the safest or most efficient route between two points. The user relies on
            the system to avoid poor or dangerous roads.
            \item \textbf{Immediacy:} They want to view routes and their Path Score immediately. It's not interested in contributing data or saving 
            history, but only in consuming aggregated information generated by the community.
            \item \textbf{Reliability:} It expects the obstacle reports (e.g., potholes) displayed on the map to be up-to-date and verified, so it can 
            plan its trip with confidence.
        \end{itemize}
        \pagebreak

        \subsection{Assumptions, dependecies and constraints}
        \subsubsection{Domain Assumptions}
        The following assumptions describe real-world conditions that the system considers true and necessary for the correct functioning of the 
        intended features:

        \begin{itemize} %ci vengono in mente altri domain assumptions??? sei d'accordo con quelli che ho appena elencato?            
           
            \item \textbf{D1 - Hardware Equipment:} It is assumed that the user's mobile device is equipped with functioning and calibrated hardware, 
            specifically: GPS receiver, accelerometer, and gyroscope.
            
            \item \textbf{D2 - Accuracy of user registration data:} It is assumed that the information entered by users during registration phase is correct and truthful.
            
            \item \textbf{D3 - Accuracy of route feedbacks:} It is assumed that the user's feedbacks about routes problems (either manual or automatically detected) are correct and truthful.
            
            \item \textbf{D4 - Accuracy of Basemaps:} It is assumed that third-party mapping services provide a correct topological representation of 
            reality, that is if a road exists on the map then it's assumed that physically exists and that it'is drivable safely by bycicles (unless otherwise reported on BBP).
            
            % Is this assumption included within the first one?
            \item \textbf{D5 - GPS Signal Availability:} It is assumed that, for most of the duration of an outdoor trip, satellite coverage is 
            sufficient to ensure useful location accuracy.
            
            \item \textbf{D6 - Distinguishable Movement Patterns:} It is assumed that the physical characteristics of cycling are sufficiently 
            distinct from those of other modes of transport or walking in order to allow classification algorithms to operate with an acceptable level of 
            accuracy.
        \end{itemize}

        \subsubsection{System Dependencies}
        The BBP system is not an island; it relies on external services to provide added value. Failure of these services degrades the system's 
        functionality as follows:

        \begin{itemize}
            \item \textbf{External Weather Service:} BBP depends on third-party APIs to retrieve weather data (temperature, wind). If this service is 
            unavailable, the system will continue to record trips, but the "Weather Enrichment" feature will not be performed, and the trips will be 
            saved without this metadata.

            \item \textbf{Mapping Services:} Route visualization and address geocoding depend on external map providers. If these are unavailable, the 
            "Route Search" and "Map View" features will be compromised.
        \end{itemize}

        \subsubsection{System Constraints}      
        \begin{itemize}
            \item \textbf{GDPR and Privacy:} Since the system tracks users' physical movements (sensitive data), the management, storage, and sharing 
            of GPS data must strictly comply with the GDPR regulation. Personal travel data must not be accessible to other users without explicit 
            consent.

            \item \textbf{Energy Consumption:} The automatic detection algorithm must be optimized to avoid draining the mobile device's battery 
            quickly, ensuring coverage of medium-duration trips (e.g., 2-3 hours).

            \item \textbf{Intermittent Connectivity:} Since cycling routes can pass through areas with poor network coverage, the mobile application 
            must be able to store sensor data locally and synchronize it with the server as soon as the connection is re-established.
        \end{itemize}

    % -------------------------------------------------------------
    \section{Specific requirements}

        \subsection{External interface requirements}

            \subsubsection{User interfaces}
            This section presents mockups of the BBP mobile application's user interface. The images illustrate the main interaction flows defined in 
            the scenarios, demonstrating how the system meets usability and functionality requirements.

            \begin{figure}[H]
                \centering
                \includegraphics[width=0.6\textwidth]{login_mockup.pdf} 
                \caption{Login and Registration Screen}
                \label{fig:mockup_login}
            \end{figure}

            \begin{figure}[H]
                \centering
                \includegraphics[width=0.6\textwidth]{mockup_search.pdf}
                \caption{Route Selection Screen}
                \label{fig:mockup_search}
            \end{figure}

            \begin{figure}[H]
                \centering
                \includegraphics[width=0.6\textwidth]{mockup_confirmation.pdf}
                \caption{Post-Trip Confirmation Screen}
                \label{fig:mockup_confirmation}
            \end{figure}

            \begin{figure}[H]
                \centering
                \includegraphics[width=0.6\textwidth]{mockup_history.pdf}
                \caption{Trip History Screen}
                \label{fig:mockup_history}
            \end{figure}

            \subsubsection{Hardware interfaces}
            Since BBP is a mobile application focused on automatic tracking and detection, hardware interfaces are critical to the system's operation.

            \begin{itemize}
                \item \textbf{GPS:} The system requires access to the mobile device's GPS receiver to track the user's location in real time during 
                travel and to geolocate alerts.
                \item \textbf{Inertial Sensors:} For the "Automatic Mode" feature, the application needs to interface directly with the device's 
                motion sensors to detect vibrations and road surface anomalies.
            \end{itemize}

            \subsubsection{Software interfaces}
            The system interacts with external software components to enhance its functionality.

            \begin{itemize}
                \item \textbf{External Weather Service API:} The system interfaces with a weather data provider to retrieve historical weather 
                conditions for the time and location of the completed trip.
                \item \textbf{Mapping Service API:} The application uses mapping services for map rendering, route calculation, and address geocoding.
                \item \textbf{Mobile OS APIs:} The app interacts with native Android and iOS APIs for managing permissions and push notifications.
            \end{itemize}

            \subsubsection{Communication interfaces}
            \begin{itemize}
                \item \textbf{Network Protocols:} All communications between the mobile application and the backend server are via the \textbf{HTTPS} 
                protocol to ensure the security and encryption of data in transit, especially for authentication information and sensitive location data.
                \item \textbf{Network Connectivity:} The device must have a network interface (4G/5G/Wi-Fi) to send data to the server and download maps.
                %condividi il concetto di Data Format? Per me ha molto senso, l'ho usato anche in ingegneria del software 1
            \end{itemize}
        
        \subsection{Functional requirements}
            \paragraph{Authentication and Account Management}
            \begin{itemize}
                \item \textbf{[R1]} The system shall allow any user to create an account.
                \item \textbf{[R2]} The system shall allow registered user to log in using their credentials.
                \item \textbf{[R3]} The system shall allow registered user to update their personal profile information.
                \item \textbf{[R4]} The system shall allow registered user to delete their account.
            \end{itemize}

            \paragraph{Trip Recording and Monitoring}
            \begin{itemize}
                \item \textbf{[R5]} The system shall allow registered user to start the recording of a new trip.
                \item \textbf{[R6]} The system shall allow registered user to pause and resume the recording of an active trip.
                \item \textbf{[R7]} The system shall allow registered user to save a trip.
                \item \textbf{[R8]} During the recording, the system shall track the user's position and its performance statistics.
                \item \textbf{[R9]} Upon completion of a trip, the system shall automatically retrieve weather data from an external service, 
                if available, and associate it with the saved trip.
            \end{itemize}

            \paragraph{Data Contribution and Governance}
            \begin{itemize}
                \item \textbf{[R10]} The system shall allow registered user to insert manual reports regarding the status of a path.
                \item \textbf{[R11]} The system shall allow registered user to submit feedback regarding the Path Status.
                \item \textbf{[R12]} The system shall allow registered user to insert manual reports regarding problems on the path.
                \item \textbf{[R13]} The system shall allow registered user to enable automatic detection for a trip.
                \item \textbf{[R14]} When automatic detection is active, the system shall analyze data from the device's sensors to detect potential anomalies.
                \item \textbf{[R15]} The system shall present the list of automatically detected anomalies to the registered user at the end of the recorded 
                trip for review.
                \item \textbf{[R16]} The system shall allow the registered user to confirm or discard a detected anomaly.
            \end{itemize}

            \paragraph{Path Planning and Visualization}
            \begin{itemize}
                \item \textbf{[R17]} The system shall allow any user to search for cycling paths between starting point and a destination.
                \item \textbf{[R18]} The system shall compute and visualize one or more valid routes between the specified points on a map.
                \item \textbf{[R19]} The system shall calculate a Path Score for each route.
                \item \textbf{[R20]} The system shall display confirmed obstacles on the map with visual markers.
                \item \textbf{[R21]} The system shall allow the user to filter the search on Path properties. 
            \end{itemize}

            \paragraph{Trip History}
            \begin{itemize}
                \item \textbf{[R22]} The system shall allow registered user to view the list of its past trips.
                \item \textbf{[R23]} The system shall allow registered user to view the details of a specific past trip, including the route on 
                the map, statistics, and weather data (if they exist).
                \item \textbf{[R24]} The system shall allow registered users to delete a specific trip from their history.
                \item \textbf{[R25]} The system shall allow the user to search a specific trip in its history.
                \item \textbf{[R26]} The system shall allow the user to filter the view of its history.
            \end{itemize}

            \input{RASD/Section3/Use Case/use_case.tex}

            \subsubsection{Requirement Mapping}
            This section maps the Goals identified in Section 1 to the Functional Requirements and Domain Assumptions. This mapping demonstrates that 
            the set of requirements, supported by the assumptions, is sufficient to satisfy the system goals ($R \land D \models G$).

            \begin{table}[H]
                \centering
                \renewcommand{\arraystretch}{1.5} 
                \begin{tabular}{|p{0.45\textwidth}|p{0.45\textwidth}|}
                    \hline
                    \multicolumn{2}{|p{0.9\textwidth}|}{\textbf{G1:} A registered user wants to track their personal cycling activities and related 
                    performance statistics.} \\
                    \hline
                    \textbf{Requirements} & \textbf{Domain Assumptions} \\
                    \hline
                    \textbf{[R1]} The system shall allow any user to create an account. \newline
                    \textbf{[R2]} The system shall allow registered user to log in using their credentials. \newline
                    \textbf{[R5]} The system shall allow registered user to start the recording of a new trip. \newline
                    \textbf{[R6]} The system shall allow registered user to pause and resume the recording of an active trip. \newline
                    \textbf{[R7]} The system shall allow registered user to save a trip. \newline
                    \textbf{[R8]} During the recording, the system shall track the user's position and its performance statistics. \newline
                    \textbf{[R9]} Upon completion of a trip, the system shall automatically retrieve weather data from an external service, if 
                    available, and associate it with the saved trip. \newline
                    \textbf{[R22]} The system shall allow registered user to view the list of its past trips. \newline
                    \textbf{[R23]} The system shall allow registered user to view the details of a specific past trip, including the route on the map,
                    statistics, and weather data (if they exist). \newline
                    \textbf{[R24]} The system shall allow registered users to delete a specific trip from their history. \newline
                    \textbf{[R25]} The system shall allow the user to search a specific trip in its history. \newline
                    \textbf{[R26]} The system shall allow the user to filter the view of its history.
                    & 
                    \textbf{D1 - Hardware Equipment:} It is assumed that the user's mobile device is equipped with functioning and calibrated hardware,
                     specifically: GPS receiver, accelerometer, and gyroscope. \newline
                    \newline
                    \textbf{D5 - GPS Signal Availability:} It is assumed that, for most of the duration of an outdoor trip, satellite coverage is 
                    sufficient to ensure useful location accuracy.
                    \\
                    \hline
                \end{tabular}
                \caption{Requirement Mapping for Goal G1}
                \label{tab:mapping_g1}
            \end{table}
            
            \begin{table}[H]
                \centering
                \renewcommand{\arraystretch}{1.5}
                \begin{tabular}{|p{0.45\textwidth}|p{0.45\textwidth}|}
                    \hline
                    \multicolumn{2}{|p{0.9\textwidth}|}{\textbf{G2:} A registered user wants to contribute to the community inventory by sharing 
                    reliable information on the condition of the trails (e.g. quality, obstacles, potholes).} \\
                    \hline
                    \textbf{Requirements} & \textbf{Domain Assumptions} \\
                    \hline
                    \textbf{[R2]} The system shall allow registered user to log in using their credentials. \newline
                    \textbf{[R10]} The system shall allow registered user to insert manual reports regarding the status of a path. \newline
                    \textbf{[R11]} The system shall allow registered user to insert a personal rating of a path. \newline
                    \textbf{[R12]} The system shall allow registered user to insert manual reports regarding problems on the path. \newline
                    \textbf{[R13]} The system shall allow registered user to enable automatic detection for a trip. \newline
                    \textbf{[R14]} When automatic detection is active, the system shall analyze data from the device's sensors to detect potential anomalies. \newline
                    \textbf{[R15]} The system shall present the list of automatically detected anomalies to the registered user at the end of the recorded trip for review. \newline
                    \textbf{[R16]} The system shall allow the registered user to confirm or discard a detected anomaly.
                    & 
                    \textbf{D1 - Hardware Equipment:} It is assumed that the user's mobile device is equipped with functioning and calibrated hardware, 
                    specifically: GPS receiver, accelerometer, and gyroscope. \newline
                    \newline
                    \textbf{D3 - Accuracy of route feedbacks:} It is assumed that the user's feedbacks about routes problems (either manual or 
                    automatically detected) are correct and truthful. \newline
                    \newline
                    \textbf{D6 - Distinguishable Movement Patterns:} It is assumed that the physical characteristics of cycling are sufficiently 
                    distinct from those of other modes of transport or walking in order to allow classification algorithms to operate with an 
                    acceptable level of accuracy.
                    \\
                    \hline
                \end{tabular}
                \caption{Requirement Mapping for Goal G2}
                \label{tab:mapping_g2}
            \end{table}
            
            \begin{table}[H]
                \centering
                \renewcommand{\arraystretch}{1.5}
                \begin{tabular}{|p{0.45\textwidth}|p{0.45\textwidth}|}
                    \hline
                    \multicolumn{2}{|p{0.9\textwidth}|}{\textbf{G3:} Any user (registered or not) wants to find and view the best cycling route 
                    between an origin and a destination, based on up-to-date and relevant data.} \\
                    \hline
                    \textbf{Requirements} & \textbf{Domain Assumptions} \\
                    \hline
                    \textbf{[R17]} The system shall allow any user to search for cycling paths between starting point and a destination. \newline
                    \textbf{[R18]} The system shall compute and visualize one or more valid routes between the specified points on a map. \newline
                    \textbf{[R19]} The system shall calculate a Path Score for each route. \newline
                    \textbf{[R20]} The system shall display confirmed obstacles on the map with visual markers. \newline
                    \textbf{[R21]} The system shall allow the user to filter the search on Path properties.
                    & 
                    \textbf{D4 - Accuracy of Basemaps:} It is assumed that third-party mapping services provide a correct topological representation of 
                    reality, that is if a road exists on the map then it's assumed that physically exists and that it'is drivable safely by bycicles 
                    (unless otherwise reported on BBP). \newline
                    \newline
                    \textbf{D1 - Hardware Equipment:} It is assumed that the user's mobile device is equipped with functioning and calibrated hardware.
                    \\
                    \hline
                \end{tabular}
                \caption{Requirement Mapping for Goal G3}
                \label{tab:mapping_g3}
            \end{table}
            
            \begin{table}[H]
                \centering
                \renewcommand{\arraystretch}{1.5}
                \begin{tabular}{|p{0.45\textwidth}|p{0.45\textwidth}|}
                    \hline
                    \multicolumn{2}{|p{0.9\textwidth}|}{\textbf{G4:} The cycling association aims to provide the community with a tool to create, 
                    consult, and maintain a reliable and centralized inventory of cycling routes.} \\
                    \hline
                    \textbf{Requirements} & \textbf{Domain Assumptions} \\
                    \hline
                    \textbf{[R1]} The system shall allow any user to create an account. \newline
                    \textbf{[R3]} The system shall allow registered user to update their personal profile information. \newline
                    \textbf{[R4]} The system shall allow registered user to delete their account. \newline
                    \textbf{[R16]} The system shall allow the registered user to confirm or discard a detected anomaly. \newline
                    & 
                    \textbf{D2 - Accuracy of user registration data:} It is assumed that the information entered by users during registration phase 
                    is correct and truthful. \newline
                    \newline
                    \textbf{D3 - Accuracy of route feedbacks:} It is assumed that the user's feedbacks about routes problems (either manual
                     or automatically detected) are correct and truthful.
                    \\
                    \hline
                \end{tabular}
                \caption{Requirement Mapping for Goal G4}
                \label{tab:mapping_g4}
            \end{table}

        \subsection{Performance requirements}
        Given the nature of BBP as a mobile application that also operates in active mobility contexts, performance is critical not only for the user
         experience, but also for the security and reliability of the collected data.

        \begin{itemize}
            \item \textbf{Interface Responsiveness:} The system must ensure immediate response times for critical interactions during cycling, with a 
            latency of less than 200 ms, to avoid dangerous distractions for the user.

            \item \textbf{Real-Time Data Processing:} During "Automatic Detection" mode, the local algorithm on the device must process sensor data in 
            real time without causing interface crashes or delays in recording the GPS track.

            \item \textbf{Routing:} The route search functionality must return results, complete with \textit{Path Score}, within 3 seconds for 
            requests in a standard urban environment (10 km radius), ensuring smooth planning.

            \item \textbf{Backend Scalability:} The system must be able to handle simultaneous load peaks (e.g., weekends or cycling events), scaling 
            horizontally to support thousands of simultaneous trip uploads without data loss.

            \item \textbf{Reliability:} The backend service must guarantee 99.9\% uptime on a monthly basis, ensuring that users can 
            always sync their trips and access maps.
        \end{itemize}
        \pagebreak

        \subsection{Design Constraints}

        \subsubsection{Standards Compliance}
        The BBP system adheres to rigorous international standards to ensure interoperability, security, and regulatory compliance.

        \begin{table}[H]
            \centering
            \renewcommand{\arraystretch}{1.3}
            \begin{tabular}{|l|p{0.7\textwidth}|}
                \hline
                \textbf{Standard} & \textbf{Description} \\
                \hline
                \textbf{GDPR (EU 2016/679)} & The system manages sensitive geolocation and user profiling data. All processing must comply with the 
                General Data Protection Regulation, guaranteeing the right to be forgotten and data minimization. \\
                \hline
                \textbf{WGS 84} & Geodetic reference standard for the GPS system. All stored and exchanged coordinates must comply with this standard 
                to ensure compatibility with global maps. \\
                \hline
                \textbf{GPX (GPS Exchange)} & The system should support the export of trip data in the standard XML format for GPS data, facilitating 
                interoperability with other sports platforms. \\
                \hline
                \textbf{ISO/IEC 27001} & Standard for information security management, applied to protect the backend infrastructure and user data 
                from unauthorized access. \\
                \hline
            \end{tabular}
            \caption{Compliance standards adopted by BBP}
            \label{tab:standards}
        \end{table}

        \subsubsection{Hardware Limitations}
        The mobile application must operate in a resource-constrained environment, typical of mobile devices during extended outdoor use.

        \begin{itemize}
            \item \textbf{Power Consumption:} The automatic detection algorithm (GPS + Sensors) must be optimized to consume no more than 10-15\% 
            battery power per hour of use on an average device, ensuring the user does not run out of battery power while traveling.
            \item \textbf{Required Sensors:} Full use of the app is contingent on the physical presence of a calibrated accelerometer and gyroscope. 
            Older or low-end devices without these sensors will only be able to use the app in limited mode (without automatic detection).
            \item \textbf{Intermittent Connectivity:} The design must include an "offline-first" mode for data recording. Upload to the server must 
            occur asynchronously when the connection is stable, handling any timeouts without losing local data.
        \end{itemize}

        \subsubsection{Any Other Constraint}
        \begin{itemize}
            \item \textbf{GPS Accuracy:} The accuracy of obstacle detection is limited by the accuracy of the device's civilian GPS. The system must 
            include clustering or manual correction mechanisms to handle inherent hardware inaccuracy.
            \item \textbf{Operating System:} The application must be compatible with Android and iOS versions released in the last 3 years to ensure 
            access to the latest APIs for efficient background sensor management.
            \item \textbf{Local Data Processing:} To ensure responsiveness and minimize mobile data usage, the raw processing of high-frequency sensor 
            data must be performed locally on the user's device. The system is constrained to transmit only the identified "candidate anomalies" to 
            the server, rather than the continuous raw data stream.
        \end{itemize}

        \input{RASD/Section3/system_attributes.tex}

    % -------------------------------------------------------------
    \section{Formal anlaysis using Alloy}


    % -------------------------------------------------------------
    \section{Effort spent}

        \textbf{Guglielmi Leonardo}
        \begin{itemize}
            \item 11/11/2025  1h (RASD document structure)
            \item 19/11/2025 1h 30m (Section 1 review)
            \item 20/11/2025 1h (Scenarios review)
            \item 21/11/2025 1h (class diagram review)
            \item 21/11//2025 1h (Section )
            \item 24/11/2025 2h (Scenario update)
            \item 26/11/2025 2h (Use Cases)
            \item 27/112025 1h (System Attributes)
            \item 29/11/2025 1h (Use Cases improvement)

        \end{itemize}
    
        \textbf{Lo Conte Francesco}
        \begin{itemize}
            \item 17/11/2025 4h (Completing Section 1 (Introduction))
            \item 18/11/2025 7h (Section 2 - StateDiagrams, DomainClassDiagram, Scenarios)
            \item 19/11/2025  1h (Completing Section 2.2, 2.3, 2.4)
            \item 25/11/2025 5h (User Interfaces and some subsections of section 3)
            \item 26/11/2025 30 min (Revision)
            \item 30/11/2025 2h (Various Adjustements) 
        \end{itemize}


    \section{References}

\end{document}